# å­¦ä¹ ç¬”è®° 2.1 - Ink æ¡†æ¶åŸºç¡€

## ğŸ“– ä»€ä¹ˆæ˜¯ Ink?

Ink æ˜¯ä¸€ä¸ªä½¿ç”¨ **React** æ„å»ºäº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢ (CLI) çš„åº“ã€‚

- **React for CLI**: ä½¿ç”¨ä½ ç†Ÿæ‚‰çš„ React ç»„ä»¶ã€Hooks å’ŒçŠ¶æ€ç®¡ç†æ¥æ„å»º CLIã€‚
- **Flexbox å¸ƒå±€**: ä½¿ç”¨ Flexbox (é€šè¿‡ Yoga å¸ƒå±€å¼•æ“) è½»æ¾å®ç°å¤æ‚çš„ç»ˆç«¯å¸ƒå±€ã€‚
- **äº¤äº’æ€§**: å†…ç½®å¤„ç†ç”¨æˆ·è¾“å…¥ï¼ˆé”®ç›˜ï¼‰çš„ Hooksã€‚

### ä¸ºä»€ä¹ˆ gemini-cli ä½¿ç”¨ Ink?

ä¼ ç»Ÿçš„ CLI å¼€å‘é€šå¸¸æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²æˆ–ä½¿ç”¨ç®€å•çš„åº“ï¼ˆå¦‚ `chalk`, `inquirer`ï¼‰ã€‚ä½†å¯¹äºåƒ AI åŠ©æ‰‹è¿™æ ·å¤æ‚çš„åº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ï¼š
1. **åŠ¨æ€æ›´æ–°**: å®æ—¶æ˜¾ç¤ºæµå¼å“åº”ã€‚
2. **å¤æ‚å¸ƒå±€**: åŒæ—¶æ˜¾ç¤ºèŠå¤©è®°å½•ã€è¾“å…¥æ¡†ã€çŠ¶æ€æ ç­‰ã€‚
3. **ç»„ä»¶åŒ–**: å¤ç”¨ UI ç»„ä»¶ï¼ˆå¦‚åŠ è½½æ¡ã€åˆ—è¡¨ï¼‰ã€‚

Ink å®Œç¾è§£å†³äº†è¿™äº›é—®é¢˜ã€‚

---

## ğŸ¯ ç»ƒä¹  1: Hello World âœ…

æˆ‘ä»¬å·²ç»å®Œæˆäº†ç¬¬ä¸€ä¸ª Ink åº”ç”¨ï¼

```tsx
import { render, Text } from 'ink';

const App = () => (
	<Text color="green">Hello World from Ink!</Text>
);

export async function main() {
    render(<App />);
}
```

**è¿è¡Œç»“æœ**: 
```
Hello World from Ink!
```

---

## ğŸ¯ ç»ƒä¹  2: äº¤äº’å¼è®¡æ•°å™¨

ç›®æ ‡ï¼šä½¿ç”¨ `useState` å’Œ `useInput` å®ç°ç®€å•çš„äº¤äº’ã€‚

### ä»£ç å®ç°

```tsx
import { useState } from 'react';
import { render, Text, Box, useInput, useApp } from 'ink';

const Counter = () => {
	const [count, setCount] = useState(0);
	const { exit } = useApp();

	useInput((input, key) => {
		if (input === 'q') {
			exit();
		}
		if (key.leftArrow) {
			setCount(prev => prev - 1);
		}
		if (key.rightArrow) {
			setCount(prev => prev + 1);
		}
		if (input === 'r') {
			setCount(0);
		}
	});

	return (
		<Box flexDirection="column" padding={1}>
			<Text bold color="cyan">
				ğŸ® äº¤äº’å¼è®¡æ•°å™¨
			</Text>
			<Text>
				å½“å‰è®¡æ•°: <Text color="green" bold>{count}</Text>
			</Text>
			<Box marginTop={1}>
				<Text dimColor>
					â† å‡å°‘ | â†’ å¢åŠ  | R é‡ç½® | Q é€€å‡º
				</Text>
			</Box>
		</Box>
	);
};

export async function main() {
	render(<Counter />);
}
```

### å…³é”®çŸ¥è¯†ç‚¹

#### 1. `useState` - çŠ¶æ€ç®¡ç†
```tsx
const [count, setCount] = useState(0);
// count: å½“å‰å€¼
// setCount: æ›´æ–°å‡½æ•°
```

**åç«¯ç±»æ¯”**: å°±åƒ Spring ä¸­çš„ `@State` æˆ–è€… Java ä¸­çš„æˆå‘˜å˜é‡ï¼Œä½†æ˜¯æ˜¯å“åº”å¼çš„ã€‚

#### 2. `useInput` - ç›‘å¬é”®ç›˜è¾“å…¥
```tsx
useInput((input, key) => {
    // input: è¾“å…¥çš„å­—ç¬¦ ('a', 'b', 'q' ç­‰)
    // key: ç‰¹æ®Šé”® (leftArrow, rightArrow, return ç­‰)
});
```

**åç«¯ç±»æ¯”**: ç±»ä¼¼äºäº‹ä»¶ç›‘å¬å™¨ `addEventListener`ï¼Œä½†ä¸“é—¨ç”¨äºé”®ç›˜è¾“å…¥ã€‚

#### 3. `useApp` - æ§åˆ¶åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
```tsx
const { exit } = useApp();
exit(); // ä¼˜é›…åœ°é€€å‡ºåº”ç”¨
```

#### 4. `<Box>` - å¸ƒå±€ç»„ä»¶
Ink çš„æ ¸å¿ƒå¸ƒå±€ç»„ä»¶ï¼Œä½¿ç”¨ Flexbox å¸ƒå±€ï¼š
- `flexDirection`: å¸ƒå±€æ–¹å‘ ('row' | 'column')
- `padding`: å†…è¾¹è·
- `margin`: å¤–è¾¹è·
- `justifyContent`: ä¸»è½´å¯¹é½
- `alignItems`: äº¤å‰è½´å¯¹é½

#### 5. `<Text>` - æ–‡æœ¬ç»„ä»¶
æ˜¾ç¤ºæ–‡æœ¬ï¼Œæ”¯æŒæ ·å¼ï¼š
- `color`: æ–‡æœ¬é¢œè‰² ('green', 'red', 'cyan' ç­‰)
- `bold`: åŠ ç²—
- `dimColor`: æš—æ·¡æ˜¾ç¤º
- `italic`: æ–œä½“
- `underline`: ä¸‹åˆ’çº¿

### è¿è¡Œæ•ˆæœ

```
ğŸ® äº¤äº’å¼è®¡æ•°å™¨
å½“å‰è®¡æ•°: 5

â† å‡å°‘ | â†’ å¢åŠ  | R é‡ç½® | Q é€€å‡º
```

---

## ğŸ“ å¸¸ç”¨ Ink ç»„ä»¶

| ç»„ä»¶ | ä½œç”¨ | ç¤ºä¾‹ |
|------|------|------|
| `<Text>` | æ˜¾ç¤ºæ–‡æœ¬ | `<Text color="green">Hello</Text>` |
| `<Box>` | å¸ƒå±€å®¹å™¨ | `<Box flexDirection="column">...</Box>` |
| `<Newline>` | æ¢è¡Œ | `<Newline />` |
| `<Spacer>` | å ä½ç¬¦ï¼ˆå¡«å……å‰©ä½™ç©ºé—´ï¼‰ | `<Spacer />` |

## ğŸ“ å¸¸ç”¨ Ink Hooks

| Hook | ä½œç”¨ | ç¤ºä¾‹ |
|------|------|------|
| `useInput` | ç›‘å¬é”®ç›˜è¾“å…¥ | `useInput((input, key) => {...})` |
| `useApp` | è·å–åº”ç”¨å®ä¾‹ | `const { exit } = useApp()` |
| `useFocus` | ç®¡ç†ç„¦ç‚¹ | `const { isFocused } = useFocus()` |
| `useStdin` | è®¿é—® stdin | `const { stdin } = useStdin()` |
| `useStdout` | è®¿é—® stdout | `const { stdout } = useStdout()` |

---

## ğŸ”— å‚è€ƒèµ„æº

- [Ink å®˜æ–¹æ–‡æ¡£](https://github.com/vadimdemedes/ink)
- [Gemini CLI æºç ](https://github.com/google-gemini/gemini-cli)
- [React Hooks æ–‡æ¡£](https://react.dev/reference/react)
